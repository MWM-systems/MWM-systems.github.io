:root {
  --bg: #050509;
  --bg-elevated: #0e0e16;
  --bg-soft: #151521;
  --border-soft: #262636;
  --gold: #f1d48a;
  --gold-soft: #d6b96a;
  --text-main: #f5f5f7;
  --text-muted: #a0a0b5;
  --accent: #7b5cff;
}

/* ------------------------------
   Global reset & base
------------------------------ */

*,
*::before,
*::after {
  box-sizing: border-box;
}

html,
body {
  margin: 0;
  padding: 0;
}

body {
  font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
  background-color: var(--bg);
  color: var(--text-main);
  line-height: 1.6;
}

a {
  color: var(--gold);
  text-decoration: none;
}

a:hover {
  text-decoration: underline;
}

.container {
  width: 100%;
  max-width: 1100px;
  margin: 0 auto;
  padding: 0 1.5rem;
}

/* ------------------------------
   Header
------------------------------ */

.site-header {
  border-bottom: 1px solid var(--border-soft);
  background: radial-gradient(circle at top, #171726 0, #050509 55%);
}

.header-inner {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 1.1rem 0 1.3rem;
  gap: 1.5rem;
}

.brand {
  display: flex;
  align-items: center;
  gap: 0.9rem;
}

.brand-mark {
  width: 40px;
  height: 40px;
  border-radius: 999px;
  border: 1px solid var(--gold-soft);
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 600;
  font-size: 0.9rem;
  letter-spacing: 0.08em;
  color: var(--gold);
  background: radial-gradient(circle at 30% 0, #3a2b10, #050509 60%);
}

.brand-text {
  display: flex;
  flex-direction: column;
}

.brand-name {
  font-weight: 600;
  font-size: 1rem;
}

.brand-tagline {
  font-size: 0.8rem;
  color: var(--text-muted);
}

.nav {
  display: flex;
  align-items: center;
  gap: 1rem;
  font-size: 0.9rem;
}

.nav-link {
  padding: 0.25rem 0.1rem;
  position: relative;
  color: var(--text-muted);
}

.nav-link::after {
  content: "";
  position: absolute;
  left: 0;
  bottom: -0.25rem;
  width: 0;
  height: 2px;
  background-color: var(--gold);
  transition: width 0.18s ease-out;
}

.nav-link:hover::after,
.nav-link.active::after {
  width: 100%;
}

.nav-link.active {
  color: var(--gold);
}

/* ------------------------------
   Hero – two-layer field system
------------------------------ */

.hero {
  position: relative;
  min-height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: hidden;
  padding: 3.5rem 0 3rem;

  perspective: 1200px;

  background:
    radial-gradient(circle at 50% 0%, #2b210c 0%, #050509 55%, #000000 100%);
}

/* BACK FIELD — lattice grid */

.hero::before {
  content: "";
  position: absolute;
  inset: -15%;
  z-index: 0;

  background-color: #050509;

  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='200' height='200'%3E%3Cg fill='none' stroke='%23b8860b' stroke-opacity='0.22' stroke-width='0.6'%3E%3Cpath d='M0 50h200M0 100h200M0 150h200'/%3E%3Cpath d='M-50 0l250 200M0 0l250 200M50 0l250 200'/%3E%3Cpath d='M-50 200l250-200M0 200l250-200M50 200l250-200'/%3E%3C/g%3E%3C/svg%3E");

  background-size: 260px 260px;
  opacity: 0.55;
  filter: blur(0.3px);

  transform: translate3d(0, 0, -260px) scale(1.25);
  animation: lattice-drift 22s linear infinite alternate;
}

/* FRONT FIELD — resonance haze */

.hero::after {
  content: "";
  position: absolute;
  inset: -20%;
  z-index: 1;

  background:
    radial-gradient(circle at 50% 40%,
      rgba(255, 215, 128, 0.30) 0%,
      rgba(184, 134, 11, 0.14) 18%,
      rgba(0, 0, 0, 0.0) 48%);

  mix-blend-mode: screen;
  opacity: 0.65;

  transform: translate3d(0, 0, -80px) scale(1.03);
  animation: haze-pulse 18s ease-in-out infinite alternate;
}

/* Foreground content */

.hero-inner {
  position: relative;
  z-index: 2;
  display: grid;
  gap: 2.5rem;
  grid-template-columns: minmax(0, 2.1fr) minmax(0, 1.4fr);
  align-items: center;
  transform: translateZ(80px);
}

.hero-copy {
  max-width: 40rem;
}

.crest-logo {
  width: 200px;
  max-width: 40vw;
  display: block;
  margin: 0 0 1.5rem;
}

.eyebrow {
  text-transform: uppercase;
  letter-spacing: 0.15em;
  font-size: 0.75rem;
  color: var(--text-muted);
  margin: 0 0 0.75rem;
}

.hero h1 {
  margin: 0 0 1.2rem;
  font-size: clamp(2.1rem, 4vw, 2.7rem);
  line-height: 1.1;
}

.hero-lead {
  margin: 0 0 1.7rem;
  color: var(--text-muted);
  max-width: 36rem;
}

.hero-actions {
  display: flex;
  flex-wrap: wrap;
  gap: 0.8rem;
}

.btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 0.7rem 1.4rem;
  border-radius: 999px;
  font-size: 0.9rem;
  border: 1px solid transparent;
  cursor: pointer;
  text-decoration: none;
}

.btn.primary {
  background: linear-gradient(135deg, #f1d48a, #e0b85c);
  color: #151515;
  font-weight: 600;
}

.btn.primary:hover {
  filter: brightness(1.05);
}

.btn.ghost {
  border-color: var(--border-soft);
  color: var(--gold-soft);
  background: #090912;
}

.btn.ghost:hover {
  border-color: var(--gold-soft);
}

/* ------------------------------
   Hero visual panel
------------------------------ */

.hero-panel {
  position: relative;
  background: radial-gradient(circle at top, #1f1f32 0, #050509 62%);
  border-radius: 1.4rem;
  border: 1px solid var(--border-soft);
  padding: 1.7rem 1.7rem 1.4rem;
  overflow: hidden;
  animation: resonance-breathe 22s ease-in-out infinite;
}

/* Toroidal halo behind panel */
.hero-panel::before {
  content: "";
  position: absolute;
  inset: -18%;
  border-radius: 2rem;
  background:
    radial-gradient(circle at 50% 30%,
      rgba(184, 134, 11, 0.18) 0%,
      rgba(184, 134, 11, 0.06) 30%,
      rgba(0, 0, 0, 0.0) 65%);
  opacity: 0.55;
  pointer-events: none;
  z-index: -1;
}

/* Orbit system */

.hero-orbit {
  position: relative;
  width: 100%;
  padding-bottom: 100%;
  border-radius: 999px;
  display: flex;
  align-items: center;
  justify-content: center;
  animation: hue-drift 160s linear infinite;
}

/* Concentric orbit rings */
.orbit-ring {
  position: absolute;
  border-radius: 50%;
  border: 1px solid #2e2e46;
}

.ring-outer {
  width: 100%;
  height: 100%;
}

.ring-middle {
  width: 68%;
  height: 68%;
}

.ring-inner {
  width: 38%;
  height: 38%;
  border-color: #444469;
}

/* Golden-ratio spiral overlay */
.phi-spiral {
  position: absolute;
  top: 50%;
  left: 50%;
  width: 68%;
  height: 68%;
  transform: translate(-50%, -50%) rotate(-18deg);
  opacity: 0.38;
  pointer-events: none;
}

.phi-spiral path {
  stroke: rgba(241, 212, 138, 0.6);
  stroke-width: 0.8;
  stroke-linecap: round;
}

/* Particle tracks (share middle-ring radius) */
.orbit-track {
  position: absolute;
  top: 50%;
  left: 50%;
  width: 68%;
  height: 68%;
  margin-top: -34%;
  margin-left: -34%;
  border-radius: 50%;
  transform-origin: 50% 50%;
}

.track-1 {
  animation: electron-orbit 12s linear infinite;
}

.track-2 {
  animation: electron-orbit 18s linear infinite reverse;
}

/* Orbiting particle */

.orbit-dot {
  position: absolute;
  top: 0;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 6px;
  height: 6px;
  border-radius: 999px;
  background: #f1d48a;
  box-shadow: 0 0 12px rgba(241, 212, 138, 0.85);
  animation: electron-orbit 12s linear infinite,
             particle-flicker 4.5s ease-in-out infinite;
}

/* Δ core */

.orbit-core {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 42px;
  height: 42px;
  border-radius: 999px;

  background: radial-gradient(circle at 30% 0,
    #f1d48a,
    #a4761c 60%,
    #151521 100%);
  display: flex;
  align-items: center;
  justify-content: center;

  font-size: 1.1rem;
  font-weight: 600;
  color: #151515;
  box-shadow: 0 0 24px rgba(241, 212, 138, 0.45);
  animation: core-resonance 18s ease-in-out infinite;
}

.hero-panel-caption {
  margin-top: 1.1rem;
  font-size: 0.85rem;
  color: var(--text-muted);
}

/* ------------------------------
   Sections & cards
------------------------------ */

section {
  padding: 2.5rem 0;
}

.section-lead {
  max-width: 34rem;
  color: var(--text-muted);
  font-size: 0.95rem;
}

.pillars {
  background: radial-gradient(circle at top, #171726 0, #050509 65%);
  border-top: 1px solid var(--border-soft);
  border-bottom: 1px solid var(--border-soft);
}

.pillars h2,
.streams h2 {
  margin-top: 0;
  margin-bottom: 0.8rem;
  font-size: 1.4rem;
}

.pillars-grid,
.streams-grid {
  display: grid;
  gap: 1.4rem;
  grid-template-columns: repeat(auto-fit, minmax(230px, 1fr));
  margin-top: 1.7rem;
}

.card {
  background: var(--bg-soft);
  border-radius: 1rem;
  padding: 1.2rem 1.3rem 1.1rem;
  border: 1px solid var(--border-soft);
  box-shadow: 0 12px 22px rgba(0, 0, 0, 0.4);
}

.card h3 {
  margin-top: 0;
  margin-bottom: 0.5rem;
  font-size: 1rem;
}

.card p {
  margin: 0.15rem 0;
  font-size: 0.9rem;
  color: var(--text-muted);
}

.card-tag {
  margin-top: 0.7rem;
  font-size: 0.8rem;
  color: var(--gold-soft);
}

/* Contact / footer block */

.contact-teaser {
  border-top: 1px solid var(--border-soft);
}

.contact-inner {
  display: flex;
  gap: 2.2rem;
  align-items: flex-start;
  flex-wrap: wrap;
}

.contact-block {
  padding: 1.1rem 1.3rem;
  border-radius: 0.9rem;
  border: 1px solid var(--border-soft);
  background: #0c0c16;
  min-width: 240px;
}

.contact-label {
  margin: 0 0 0.3rem;
  font-size: 0.8rem;
  text-transform: uppercase;
  letter-spacing: 0.16em;
  color: var(--text-muted);
}

.contact-email {
  margin: 0 0 0.35rem;
  font-size: 0.95rem;
  color: var(--gold-soft);
}

.contact-email span {
  font-size: 0.8rem;
  color: var(--text-muted);
}

.contact-note {
  margin: 0;
  font-size: 0.8rem;
  color: var(--text-muted);
}

/* Footer */

.site-footer {
  padding: 2rem 0;
  background: #050505;
  border-top: 1px solid rgba(255, 255, 255, 0.05);
}

.footer-inner {
  color: #aaa;
  display: flex;
  flex-direction: column;
  gap: 0.3rem;
  font-size: 0.9rem;
}

.footer-sub {
  opacity: 0.7;
  letter-spacing: 0.5px;
}

/* ------------------------------
   Responsive
------------------------------ */

@media (max-width: 800px) {
  .header-inner {
    flex-direction: column;
    align-items: flex-start;
  }

  .nav {
    width: 100%;
    justify-content: flex-start;
  }

  .hero-inner {
    grid-template-columns: minmax(0, 1fr);
  }

  .hero-panel {
    margin-top: 0.5rem;
  }
}

@media (max-width: 600px) {
  .hero {
    padding-top: 2.4rem;
  }

  .hero h1 {
    font-size: 1.8rem;
  }

  .footer-inner {
    align-items: flex-start;
  }
}

/* ------------------------------
   Toroidal lattice page
------------------------------ */

.torus-body {
  background: radial-gradient(circle at 50% 0%, #2b210c 0%, #050509 55%, #000000 100%);
  margin: 0;
}

.torus-page {
  min-height: 100vh;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  color: var(--text-main);
  text-align: center;
  padding: 2rem 1.5rem;
}

.torus-field {
  position: relative;
  width: min(480px, 80vw);
  height: min(480px, 80vw);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;

  background:
    radial-gradient(circle at 50% 30%, rgba(241, 212, 138, 0.18) 0%, rgba(0, 0, 0, 0.0) 55%),
    radial-gradient(circle at 50% 70%, rgba(10, 10, 20, 0.95) 0%, #020206 60%);
  box-shadow:
    0 0 40px rgba(0, 0, 0, 0.7),
    0 0 120px rgba(241, 212, 138, 0.12);
  overflow: hidden;

  transform-style: preserve-3d;
  animation:
    resonance-breathe 32s ease-in-out infinite,
    hue-drift 120s linear infinite;
}

/* Toroidal shells */

.torus-shell {
  position: absolute;
  border-radius: 50%;
  border: 1px solid rgba(184, 134, 11, 0.35);
  transform-origin: 50% 50%;
}

.shell-outer {
  width: 96%;
  height: 64%;
  top: 18%;
  left: 2%;
  transform: rotateX(65deg);
  animation: torus-roll 18s linear infinite;
}

.shell-middle {
  width: 78%;
  height: 52%;
  top: 24%;
  left: 11%;
  transform: rotateX(68deg);
  animation: torus-roll 26s linear infinite reverse;
}

.shell-inner {
  width: 54%;
  height: 36%;
  top: 32%;
  left: 23%;
  transform: rotateX(72deg);
  animation: torus-roll 34s linear infinite;
}

/* Δ core */

.torus-core {
  position: relative;
  width: 52px;
  height: 52px;
  border-radius: 50%;
  background: radial-gradient(circle at 30% 0,
    #f1d48a,
    #a4761c 65%,
    #050509 100%);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1.3rem;
  font-weight: 600;
  color: #151515;
  box-shadow:
    0 0 20px rgba(241, 212, 138, 0.7),
    0 0 60px rgba(241, 212, 138, 0.35);
  animation: core-resonance 24s ease-in-out infinite;
}

/* 3 · 6 · 9 particles */

.torus-particle {
  position: absolute;
  width: 8px;
  height: 8px;
  border-radius: 50%;
  background: #f1d48a;
  box-shadow: 0 0 16px rgba(241, 212, 138, 0.9);
}

.p3 {
  top: 10%;
  left: 50%;
  transform: translateX(-50%);
  animation: torus-p3 8s linear infinite, particle-flicker 5.5s ease-in-out infinite;
}

.p6 {
  bottom: 10%;
  left: 20%;
  animation: torus-p6 12s linear infinite, particle-flicker 6.2s ease-in-out infinite;
}

.p9 {
  bottom: 12%;
  right: 14%;
  animation: torus-p9 18s linear infinite, particle-flicker 7.1s ease-in-out infinite;
}

/* Oscillating triad */

.triad {
  position: absolute;
  width: 6px;
  height: 6px;
  border-radius: 50%;
  background: #f1d48a;
  box-shadow: 0 0 10px rgba(241, 212, 138, 0.9);
  transform-origin: 50% 200%;
}

.triad-1 {
  animation: triad-spin 9s ease-in-out infinite, particle-flicker 4.8s ease-in-out infinite;
}

.triad-2 {
  animation: triad-spin 9s ease-in-out infinite 0.3s, particle-flicker 5.3s ease-in-out infinite;
}

.triad-3 {
  animation: triad-spin 9s ease-in-out infinite 0.6s, particle-flicker 5.9s ease-in-out infinite;
}

/* Caption */

.torus-caption {
  margin-top: 1.6rem;
  max-width: 32rem;
  font-size: 0.9rem;
  color: var(--text-muted);
}

/* ------------------------------
   Animations
------------------------------ */

@keyframes lattice-drift {
  0%   { transform: translate3d(-16px, -12px, -260px) scale(1.25); }
  50%  { transform: translate3d(8px, 10px, -260px) scale(1.25); }
  100% { transform: translate3d(14px, -6px, -260px) scale(1.25); }
}

@keyframes haze-pulse {
  0%   { opacity: 0.65; transform: translate3d(0, 0, -80px) scale(1.02); }
  50%  { opacity: 0.95; transform: translate3d(0, -6px, -90px) scale(1.08); }
  100% { opacity: 0.7;  transform: translate3d(0, 4px, -80px) scale(1.04); }
}

/* orbit electrons */

@keyframes electron-orbit {
  0%   { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

/* tiny flicker / jitter */

@keyframes particle-flicker {
  0%   { opacity: 0.9; box-shadow: 0 0 10px rgba(241, 212, 138, 0.8); }
  25%  { opacity: 0.7; box-shadow: 0 0 6px rgba(241, 212, 138, 0.5); }
  50%  { opacity: 1.0; box-shadow: 0 0 14px rgba(241, 212, 138, 0.95); }
  75%  { opacity: 0.8; box-shadow: 0 0 8px rgba(241, 212, 138, 0.65); }
  100% { opacity: 0.9; box-shadow: 0 0 10px rgba(241, 212, 138, 0.8); }
}

/* global breath */

@keyframes resonance-breathe {
  0%   { transform: scale(1.00); }
  50%  { transform: scale(1.03); }
  100% { transform: scale(1.00); }
}

/* Δ core resonance */

@keyframes core-resonance {
  0% {
    transform: translate(-50%, -50%) scale(1.00);
    box-shadow:
      0 0 18px rgba(241, 212, 138, 0.55),
      0 0 40px rgba(241, 212, 138, 0.18);
  }
  50% {
    transform: translate(-50%, -50%) scale(1.06);
    box-shadow:
      0 0 26px rgba(241, 212, 138, 0.9),
      0 0 70px rgba(241, 212, 138, 0.35);
  }
  100% {
    transform: translate(-50%, -50%) scale(1.00);
    box-shadow:
      0 0 18px rgba(241, 212, 138, 0.55),
      0 0 40px rgba(241, 212, 138, 0.18);
  }
}

/* hue drift */

@keyframes hue-drift {
  0%   { filter: hue-rotate(0deg); }
  50%  { filter: hue-rotate(10deg); }
  100% { filter: hue-rotate(0deg); }
}

/* torus shell rotation */

@keyframes torus-roll {
  0%   { transform: rotateX(65deg) rotateZ(0deg); }
  100% { transform: rotateX(65deg) rotateZ(360deg); }
}

/* torus particle paths */

@keyframes torus-p3 {
  0%   { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

@keyframes torus-p6 {
  0%   { transform: rotate(0deg); }
  100% { transform: rotate(-360deg); }
}

@keyframes torus-p9 {
  0%   { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

/* oscillating triad */

@keyframes triad-spin {
  0%   { transform: rotate(0deg)   translateY(-40px); }
  25%  { transform: rotate(120deg) translateY(-50px); }
  50%  { transform: rotate(240deg) translateY(-65px); }
  75%  { transform: rotate(320deg) translateY(-50px); }
  100% { transform: rotate(360deg) translateY(-40px); }
}
